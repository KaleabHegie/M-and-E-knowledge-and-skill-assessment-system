{% load static %}
<!DOCTYPE html>
<html lang="en">
    {% include "includes/head.html" %}


<body class="hold-transition sidebar-mini layout-fixed">

    <div class="wrapper ">
        {%include 'includes/loader.html'%}
        {% include 'includes/topNavbar.html' %}
        {% include 'includes/sideNavbar.html' %}

        <div class="content-wrapper ">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row">
                        <div class="container-fluid" style="background-color: #e3f2fd;">
                            <div class="container-fluid" id="searchArea">
                                <div class="d-flex">
                                    <a href="{% url 'survey_managment:Index' %}" style="text-decoration: none;">&#8249; Back</a>
                                   <h2 class="textS" style="margin: auto;"> Compare Here </h2>
                                </div>
                                <div class="row ">
                                    <div class="form-group col-lg-6 col-sm-12">
                                        <label class="textS">Survey</label>
                                        <select class="form-control">
                                            <option selected="selected">Alabama</option>
                                            <option>Alaska</option>
                                            <option>California</option>
                                            <option>Delaware</option>
                                            <option>Tennessee</option>
                                            <option>Texas</option>
                                            <option>Washington</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-lg-6 col-sm-12">
                                        <label class="textS">By Date</label>
                                        <select class="form-control ">
                                            <option selected="selected">Alabama</option>
                                            <option>Alaska</option>
                                            <option>California</option>
                                            <option>Delaware</option>
                                            <option>Tennessee</option>
                                            <option>Texas</option>
                                            <option>Washington</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row container-fluid " style="margin: auto;">
                <div class="col-lg-6">
                    <div class="card shadow">
                        <div class="card-body">
                            <div id="basicBar"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card shadow">
                        <div class="card-body">
                            <div id="ScatterPlot"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 

    {% include "includes/scripts.html" %}

    <script>
        Highcharts.chart('basicBar', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'Monthly Average Rainfall'
    },
    subtitle: {
        text: 'Source: WorldClimate.com'
    },
    xAxis: {
        categories: [
            'Jan',
            'Feb',
            'Mar',
            'Apr',
            'May',
            'Jun',
            'Jul',
            'Aug',
            'Sep',
            'Oct',
            'Nov',
            'Dec'
        ],
        crosshair: true
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Rainfall (mm)'
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        column: {
            pointPadding: 0.2,
            borderWidth: 0
        }
    },
    series: [{
        name: 'Tokyo',
        data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4,
            194.1, 95.6, 54.4]

    }, {
        name: 'New York',
        data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5,
            106.6, 92.3]

    }, {
        name: 'London',
        data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3,
            51.2]

    }, {
        name: 'Berlin',
        data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8,
            51.1]

    }]
});

    Highcharts.setOptions({
        colors: ['rgba(5,141,199,0.5)', 'rgba(80,180,50,0.5)', 'rgba(237,86,27,0.5)']
    });

    const series = [{
        name: 'Basketball',
        id: 'basketball',
        marker: {
            symbol: 'circle'
        }
    },
    {
        name: 'Triathlon',
        id: 'triathlon',
        marker: {
            symbol: 'triangle'
        }
    },
    {
        name: 'Volleyball',
        id: 'volleyball',
        marker: {
            symbol: 'square'
        }
    }];


    async function getData() {
        const response = await fetch(
            'https://cdn.jsdelivr.net/gh/highcharts/highcharts@24912efc85/samples/data/olympic2012.json'
        );
        return response.json();
    }


    getData().then(data => {
        const getData = sportName => {
            const temp = [];
            data.forEach(elm => {
                if (elm.sport === sportName && elm.weight > 0 && elm.height > 0) {
                    temp.push([elm.height, elm.weight]);
                }
            });
            return temp;
        };
        series.forEach(s => {
            s.data = getData(s.id);
        });

        Highcharts.chart('ScatterPlot', {
            chart: {
                type: 'scatter',
                zoomType: 'xy'
            },
            title: {
                text: 'Olympics athletes by height and weight',
                align: 'left'
            },
            subtitle: {
                text:
            'Source: <a href="https://www.theguardian.com/sport/datablog/2012/aug/07/olympics-2012-athletes-age-weight-height">The Guardian</a>',
                align: 'left'
            },
            xAxis: {
                title: {
                    text: 'Height'
                },
                labels: {
                    format: '{value} m'
                },
                startOnTick: true,
                endOnTick: true,
                showLastLabel: true
            },
            yAxis: {
                title: {
                    text: 'Weight'
                },
                labels: {
                    format: '{value} kg'
                }
            },
            legend: {
                enabled: true
            },
            plotOptions: {
                scatter: {
                    marker: {
                        radius: 2.5,
                        symbol: 'circle',
                        states: {
                            hover: {
                                enabled: true,
                                lineColor: 'rgb(100,100,100)'
                            }
                        }
                    },
                    states: {
                        hover: {
                            marker: {
                                enabled: false
                            }
                        }
                    },
                    jitter: {
                        x: 0.005
                    }
                }
            },
            tooltip: {
                pointFormat: 'Height: {point.x} m <br/> Weight: {point.y} kg'
            },
            series
        });
    }
    );
    </script>
</body>
</html>