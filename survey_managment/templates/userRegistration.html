{%load static %}
<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="{% static 'assets/css2/style.css'%}">  
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
{% include "includes/head.html"%}
<style>
  
.modal-confirm {		
	color: #636363;
	width: 325px;
	font-size: 14px;
}
.modal-confirm .modal-content {
	padding: 20px;
	border-radius: 5px;
	border: none;
}
.modal-confirm .modal-header {
	border-bottom: none;   
	position: relative;
}
.modal-confirm h4 {
	text-align: center;
	font-size: 26px;
	margin: 30px 0 -15px;
}
.modal-confirm .form-control, .modal-confirm .btn {
	min-height: 40px;
	border-radius: 3px; 
}
.modal-confirm .close {
	position: absolute;
	top: -5px;
	right: -5px;
}	
.modal-confirm .modal-footer {
	border: none;
	text-align: center;
	border-radius: 5px;
	font-size: 13px;
}	
.modal-confirm .icon-box {
	color: #fff;		
	position: absolute;
	margin: 0 auto;
	left: 0;
	right: 0;
	top: -70px;
	width: 95px;
	height: 95px;
	border-radius: 50%;
	z-index: 9;
	background: #82ce34;
	padding: 15px;
	text-align: center;
	box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.1);
}
.modal-confirm .icon-box i {
	font-size: 58px;
	position: relative;
	top: 3px;
}
.modal-confirm.modal-dialog {
	margin-top: 80px;
}
.modal-confirm .btn {
	color: #fff;
	border-radius: 4px;
	background: #82ce34;
	text-decoration: none;
	transition: all 0.4s;
	line-height: normal;
	border: none;
}
.modal-confirm .btn:hover, .modal-confirm .btn:focus {
	background: #6fb32b;
	outline: none;
}
.trigger-btn {
	display: inline-block;
}
</style>
</head>

<body>
 
  
  <!-- Modal HTML -->
 
  <!-- <div id="myModal" class="modal fade">
    <div class="modal-dialog modal-confirm">
      <div class="modal-content">
        <div class="modal-header">
          <div class="icon-box">
            <i class="material-icons">&#xE876;</i>
          </div>				
          <h4 class="modal-title w-100">User Registered</h4>	
        </div>
        <div class="modal-body">
          <p class="text-center">Sucessfully!</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-success btn-block" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>  -->
  {% if messages %}
    <ul class="messages">
      {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
<div class="wrapper">
  {%include 'includes/loader.html'%}

<form  id="wizard" action="{% url 'Account:register_view' %}" method="POST">

{% csrf_token %}
<h2></h2>

<section>
<div class="inner" >

<div class="form-content">
<div class="form-header" style="align-items: center;">
  <img src="{%static 'assets/logo/EPCD-Logo-Final-NoBg-Green-Hi-res.png'%}" width="30%" margin-left:400px;">

<h3>Registration</h3>

</div>
<p> Personal Information</p>
<div class="row" > 
  <div class="form-group col-6">
    <input type="text" class="form-control" id="first_name" name="first_name"
      placeholder="Enter First Name" required/>
  </div>
  <div class="form-group col-6">
    <input type="text" class="form-control" id="last_name" name="last_name"
      placeholder="Enter Last Name" required />
  </div>
</div>
  <div class="form-group">
    <input type="email" class="form-control" id="email" name="email"
      placeholder="Enter email" required/>
  </div>
  
 <div class="row">
  <div class="col-sm-6">
    <div class="form-group">
      <input type="text" class="form-control" id="phone_num" name="phone_num"
        placeholder="Enter phone number" required/>
    </div>
  </div>
  <div class="col-sm-6">
    <div class="form-group">
      <input type="date" class="form-control" id="dob" name="dob"
        placeholder="Enter Date of birth" required/>
    </div>
  </div>
 </div>
   
 
<div class="form-row">

<div class="form-holder" style="align-self: flex-end; transform: translateY(4px);">
<div class="checkbox-tick">
<label class="male">
<input type="radio" name="gender" value="male" checked> Male<br>
<span class="checkmark"></span>
</label>
<label class="female">
<input type="radio" name="gender" value="female"> Female<br>
<span class="checkmark"></span>
</label>
</div>
</div>
</div>
</div>
</div>
</section>

<h2></h2>
<section>
<div class="inner">

<div class="form-content">
<div class="form-header">
<h3>Registration</h3>
</div>
<p>Company Information</p>
<div class="form-group">
  <label for="line_ministry">Line Ministry</label>
  <select class="form-control" id="line_ministry" name="line_ministry" required>
    <option value="">Select Line Ministry</option>

    {%for line_ministry in ministry%}

    <option value="{{ line_ministry.id }}">{{ line_ministry.name }}</option>

    {%  endfor %}
      <!-- Add more options as needed -->
  </select>
</div>
<div class="form-group">
  <input type="text" class="form-control" id="department" name="department"
    placeholder="Departmnet" required/>
</div>
<div class="form-group">
  <input type="text" class="form-control" id="role" name="role"
    placeholder="Role" required/>
</div> 
<div class="checkbox-rectangle mt-24">
  <label>
  <input type="checkbox" name="is_mopd_head" checked> is_MoPDHead</a>
  <span class="checkmark"></span>
  </label>
</div>
<div class="checkbox-rectangle mt-24">
<label>
<input type="checkbox" name="is_line_minister_head"> is_LineMinisterHead</a>
<span class="checkmark"></span>
</label>
</div>
<div class="checkbox-rectangle mt-24">
  <label>
  <input type="checkbox" name="is_line_minister_staff"  > is_LineMinisterStaff</a>
  <span class="checkmark"></span>
  </label>
</div>
</div>
</div>
</section>

<h2></h2>
<section>
<div class="inner">

<div class="form-content">
<div class="form-header">
<h3>Registration</h3>
</div>
<p>Create Account</p>
  <div class="form-group">
    <input type="text" class="form-control" id="username" name="username"
      placeholder="Enter Username" required/>
  </div>                
  <div class="form-group">
    <input type="password" class="form-control" id="password" name="password"
      placeholder="Password" required/>
  </div>
  <div class="form-group">
    <input type="password" class="form-control" id="re_password" name="re_password"
      placeholder="Password" required/>
  </div>
 
<div class="card-footer">
  <div class="text-center">
    <button type="submit" class="btn btn-primary btn-center">
      <a href="#myModal" class="trigger-btn" data-toggle="modal" style="list-style: none;">Submit</a>
    </button>
  </div>
 
</div>
</div>
</div>
</section>
</form>
</div>
{%include "includes/scripts.html"%}
<script>
  function validateForm(){
    var first_name= document.getElementById("first_name").value;
    var last_name= document.getElementById("last_name").value;
    var email= document.getElementById("email").value;
    var phone_num= document.getElementById("phone_num").value;
    var username= document.getElementById("username").value;
    var dob= document.getElementById("dob").value;
    var password= document.getElementById("password").value;
    var re_password= document.getElementById("re_password").value;
    var line_ministry= document.getElementById("line_ministry").value;
    var department= document.getElementById("department").value;
    var role= document.getElementById("role").value;
    var profile_pic= document.getElementById("profile_pic").value;

    if(first_name=""){
      return false;
    }
    if(last_name=""){
      return false;
    }
    
    // Validate email
if (!/\S+@\S+\.\S+/.test(email)) {
  alert("Please enter a valid email address.");
  return false;
}

// Validate phone number
if (!/^[0-9]{10}$/.test(phone_num)) {
  alert("Please enter a valid phone number.");
  return false;
}

// Validate username
if (!/^[a-zA-Z0-9_-]{3,20}$/.test(username)) {
  alert("Please enter a valid username (3-20 characters, alphanumeric, underscore, or hyphen only).");
  return false;
}

// Validate date of birth
var today = new Date();
var dobDate = new Date(dob);
if (dobDate >= today) {
  alert("Please enter a valid date of birth.");
  return false;
}

// Validate password
if (password.length < 5) {
  alert("Password must be at least 8 characters long.");
  return false;
}

// Validate profile picture size
// if (profile_pic.size > 1048576) {
//   alert("Profile picture size must be less than or equal to 1MB.");
//   return false;
// }

// If all validation passes, allow form submission
return true;
}
</script>
</body>
</html>

